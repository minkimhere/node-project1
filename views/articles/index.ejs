<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>블로그</title>
</head>

<body>
    <!-- ejs 기호는 output variable, 노드js의 자바스크립트 변수이다 -->
    <!-- 스크린에 output해줌. -->

    <div class="container">
        <!-- bootstrap margin bottom 4 -->
        <h1 class="mb-4">블로그</h1>
        <!-- 새 게시글 버튼, success 클래스는 부트스트랩 초록색 -->
        <a href="/articles/new" class="btn btn-success">글쓰기</a>

        <!-- 기호로 자바스크립트 사용하기-->
        <!-- forEach function 반복문 돌리기 -->
        <!-- cart margin-top 4 -->
        <!-- =기호는 출력기호 -->
        <% articles.forEach(article=> { %>
            <div class="card mt-4">
                <div class="card-body">
                    <h4 class="card-title">
                        <%= article.title %>
                    </h4>
                    <!-- text-muted 작고 회색 부트스트랩 css, margin bottom2 -->
                    <div class="card-subtitle text-muted mb-2">
                        <!-- timeststamp를 가져왔는데 랜덤 숫자여서 변환시켜줌 -->
                        <!-- toLocaleDateString 깔끔하게 날짜만 보여주는 메소드 -->
                        <%= article.createdAt.toLocaleDateString() %>
                    </div>
                    <div class="card-text mb-2">
                        <%= article.description %>
                    </div>
                    <!-- 게시글 상세페이지 들어가기 -->
                    <a href="articles/<%= article.id%>" class="btn btn-primary">더보기</a>
                </div>
            </div>
            <% }) %>
    </div>
</body>

</html>